<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LiveUser - å®æ—¶åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡</title>
  <link rel="icon" type="image/png" href="https://img.icons8.com/parakeet/1000/user.png">
  
  <!-- å¼•å…¥layuiæ¡†æ¶çš„JavaScriptå’ŒCSSæ–‡ä»¶ -->
  <script src="https://cdn.jsdelivr.net/npm/layui/dist/layui.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/ymyuuu/config/JS/layui-dark.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/layui/dist/css/layui.min.css">

  <style>
    #liveuser {
      transition: all 0.3s ease;
      display: inline-block;
      font-weight: bold;
    }
    #liveuser.updating {
      transform: scale(1.2);
      color: #FFB800;
    }
  </style>
</head>

<body>
  <div class="layui-container" style="margin-top: 20px;">
    <div class="layui-row">
      <div class="layui-col-md8 layui-col-md-offset2">

        <!-- çŠ¶æ€æ˜¾ç¤º -->
        <fieldset class="layui-elem-field layui-field-title">
          <legend><i class="layui-icon layui-icon-radio"></i> LiveUser çŠ¶æ€</legend>
          <div class="layui-field-box">
            <blockquote class="layui-elem-quote">
              å½“å‰åœ¨çº¿äººæ•°ï¼š<span id="liveuser"><i class="layui-icon layui-icon-loading-1 layui-anim layui-anim-rotate layui-anim-loop"></i></span>
            </blockquote>
          </div>
        </fieldset>

        <!-- æœåŠ¡ä»‹ç» -->
        <fieldset class="layui-elem-field layui-field-title">
          <legend><i class="layui-icon layui-icon-user"></i> å…³äº LiveUser</legend>
          <div class="layui-field-box">
            <p>LiveUser æ˜¯ä¸€æ¬¾åŸºäº Go + WebSocket çš„é«˜æ€§èƒ½å®æ—¶åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡æœåŠ¡ã€‚</p>
            <ul class="layui-ul">
              <li><strong>âš¡ å®æ—¶ç»Ÿè®¡</strong> - WebSocket é•¿è¿æ¥ï¼Œæ¯«ç§’çº§æ›´æ–°</li>
              <li><strong>ğŸ”— ç®€å•é›†æˆ</strong> - ä¸€è¡Œä»£ç å³å¯é›†æˆ</li>
              <li><strong>ğŸŒ å¤šç«™ç‚¹æ”¯æŒ</strong> - æ”¯æŒå¤šä¸ªç«™ç‚¹ç‹¬ç«‹ç»Ÿè®¡</li>
              <li><strong>ğŸš€ é›¶é…ç½®</strong> - è‡ªåŠ¨è¯†åˆ«æœåŠ¡å™¨åœ°å€å’Œç«™ç‚¹</li>
            </ul>
          </div>
        </fieldset>

        <!-- ä½¿ç”¨æ–¹æ³• -->
        <blockquote class="layui-elem-quote">
          <i class="layui-icon layui-icon-form"></i> å¿«é€Ÿå¼€å§‹
        </blockquote>
        
        <p><strong>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ æ˜¾ç¤ºå…ƒç´ </strong></p>
        <pre id="example1" class="layui-code"></pre>

        <p><strong>ç¬¬äºŒæ­¥ï¼šå¼•å…¥è„šæœ¬</strong></p>
        <pre id="example2" class="layui-code"></pre>

        <!-- é…ç½®å‚æ•° -->
        <blockquote class="layui-elem-quote">
          <i class="layui-icon layui-icon-set"></i> é…ç½®å‚æ•°
        </blockquote>
        
        <p>é€šè¿‡ URL å‚æ•°è‡ªå®šä¹‰é…ç½®ï¼š</p>
        <pre id="example3" class="layui-code"></pre>

        <p><strong>å¯ç”¨å‚æ•°ï¼š</strong></p>
        <ul class="layui-ul">
          <li><code>siteId</code> - ç«™ç‚¹æ ‡è¯†ç¬¦</li>
          <li><code>displayElementId</code> - æ˜¾ç¤ºå…ƒç´  ID</li>
          <li><code>debug</code> - è°ƒè¯•æ¨¡å¼</li>
          <li><code>reconnectDelay</code> - é‡è¿å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰</li>
        </ul>

      </div>
    </div>
  </div>

  <script>
    // åŠ¨æ€ç”Ÿæˆç¤ºä¾‹ä»£ç 
    const host = window.location.host;
    const protocol = window.location.protocol;

    document.getElementById('example1').textContent = `<span id="liveuser">åŠ è½½ä¸­...</span>`;
    
    document.getElementById('example2').textContent = `<script src="${protocol}//${host}/liveuser.js"></script>`;
    
    document.getElementById('example3').textContent = `<!-- è‡ªå®šä¹‰ç«™ç‚¹ID -->
<script src="${protocol}//${host}/liveuser.js?siteId=blog"></script>

<!-- å…³é—­è°ƒè¯•æ¨¡å¼ -->
<script src="${protocol}//${host}/liveuser.js?debug=false"></script>

<!-- å®Œæ•´é…ç½® -->
<script src="${protocol}//${host}/liveuser.js?siteId=my-site&displayElementId=counter&debug=false"></script>`;

    // åˆå§‹åŒ–ä»£ç é«˜äº®
    layui.use('code', function(){
      layui.code();
    });
  </script>

  <!-- LiveUser ç»Ÿè®¡è„šæœ¬ -->
  <script src="/liveuser.js?siteId=demo-site&debug=true"></script>

</body>
</html>
